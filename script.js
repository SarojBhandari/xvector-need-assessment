const appState = { view: 'loading', formData: { teamName: '', email: '', phone: '', teamCount: 1, idea: '', answers: {}, scores: { clarity: 0, discovery: 0, readiness: 0, market: 0, business: 0, execution: 0 } }, assessmentId: null }; const PASSWORD = '#XVector@2026'; const ASSESSMENT_MODULES = [ { key: 'clarity', title: 'ðŸ§© 1. Problem Clarity', questions: [ "Do you have a written problem statement?", "Is the affected user clearly defined?", "Can users describe the same pain in their own words?", "Does the problem happen frequently (weekly+)?", "Would users be disappointed if the problem remains unsolved?" ] }, { key: 'discovery', title: 'ðŸ§‘â€ðŸ¤â€ðŸ§‘ 2. Customer Discovery', questions: [ "â‰¥10 real interviews conducted?", "â‰¥30 real interviews conducted?", "Interview notes documented?", "Clear patterns identified?", "Ongoing interviews every week?" ] }, { key: 'readiness', title: 'ðŸ§ª 3. Solution Readiness', questions: [ "Is there a solution concept documented?", "Is there a wireframe or prototype?", "Is there a working MVP?", "Has the MVP been tested with real users?", "Has feedback been incorporated into the product?" ] }, { key: 'market', title: 'ðŸ§­ 4. Market Understanding', questions: [ "Is the target market clearly defined?", "Are at least 3 competitors identified?", "Is differentiation clearly articulated?", "Is market size estimated?", "Do you understand your customerâ€™s buying behavior?" ] }, { key: 'business', title: 'ðŸ’° 5. Business Model', questions: [ "Is the revenue model defined?", "Is pricing defined?", "Are costs estimated?", "Has pricing been tested with customers?", "Has any money or LOI been received?" ] }, { key: 'execution', title: 'ðŸ§‘â€ðŸ’¼ 6. Team Execution', questions: [ "Are roles clearly assigned?", "Does each member have weekly deliverables?", "Are deadlines consistently met?", "Is at least one member working full-time equivalent?", "Does the team resolve conflicts & make decisions quickly?" ] } ]; document.addEventListener('DOMContentLoaded', () => { init(); }); function init() { const urlParams = new URLSearchParams(window.location.search); const assessmentId = urlParams.get('id'); if (assessmentId) { appState.assessmentId = assessmentId; appState.view = 'user-form'; } else { appState.view = 'admin-login'; } render(); } function render() { const main = document.getElementById('main-content'); main.innerHTML = ''; window.scrollTo(0, 0); if (appState.view === 'admin-login') { renderAdminLogin(main); } else if (appState.view === 'admin-dash') { renderAdminDash(main); } else if (appState.view === 'user-form') { renderUserForm(main); } else if (appState.view === 'user-result') { renderUserResult(main); } } function renderAdminLogin(container) { const card = document.createElement('div'); card.className = 'auth-card'; card.innerHTML = ` <h2>Admin Login</h2> <div class="input-group"> <label>Password</label> <input type="password" id="admin-pass" placeholder="Enter password"> </div> <button onclick="handleLogin()">Login</button> `; container.appendChild(card); } function handleLogin() { const pass = document.getElementById('admin-pass').value; if (pass === PASSWORD || pass === 'admin') { if (pass === PASSWORD) { if (!appState.assessmentId) { appState.assessmentId = 'xvector-' + Math.random().toString(36).substr(2, 9); } appState.view = 'user-form'; render(); } else { alert('Invalid Password'); } } else { alert('Invalid Password'); } } function renderAdminDash(container) { const uniqueId = 'xvector-' + Math.random().toString(36).substr(2, 9); const link = `https://www.xvector.info/?id=${uniqueId}`; const card = document.createElement('div'); card.className = 'dashboard-card'; card.innerHTML = ` <h2>Create Assessment Link</h2> <p>Share this link with teams to start their need assessment.</p> <div class="share-link-box"> <input type="text" value="${link}" readonly id="share-link"> <button onclick="copyLink()" style="width: auto;">Copy</button> </div> <button onclick="window.open('${link}', '_blank')" class="secondary">Open Link Preview</button> `; container.appendChild(card); } function copyLink() { const copyText = document.getElementById("share-link"); copyText.select(); document.execCommand("copy"); alert("Link copied to clipboard!"); } function renderUserForm(container) { const card = document.createElement('div'); card.className = 'assessment-container'; let html = ` <div class="section-card"> <div class="input-group"> <label>Team Name *</label> <input type="text" id="team-name" placeholder="e.g. Lunar Innovators" required> </div> <div class="input-group"> <label>Contact Email *</label> <input type="email" id="team-email" placeholder="contact@example.com" required> </div> <div class="input-group"> <label>Phone Number *</label> <input type="tel" id="team-phone" placeholder="+1234567890" required> </div> <div class="input-group"> <label>Number of Team Members</label> <input type="number" id="team-count" min="1" value="1"> </div> <div class="input-group"> <label>Project Idea / Description</label> <textarea id="team-idea" rows="4" placeholder="Briefly describe your startup idea..."></textarea> </div> </div> `; ASSESSMENT_MODULES.forEach((module, mIndex) => { html += ` <div class="section-card"> <div class="section-title"> <span>${module.title}</span> <span class="score-display" id="score-display-${module.key}">0/5</span> </div> <div class="questions-list"> `; module.questions.forEach((q, qIndex) => { const qId = `${module.key}-${qIndex}`; html += ` <div class="question-row"> <div class="q-text">${q}</div> <div class="toggle-switch"> <input type="checkbox" id="${qId}" class="mod-${module.key}" onchange="updateModuleScore('${module.key}')"> <label for="${qId}" class="slider"></label> </div> </div> `; }); html += ` </div> </div> `; }); html += `<button onclick="submitAssessment()" id="submit-btn">Analyze Needs & Get Journey</button>`; card.innerHTML = html; container.appendChild(card); } function updateModuleScore(moduleKey) { const otherCheckboxes = document.querySelectorAll(`.mod-${moduleKey}`); let score = 0; otherCheckboxes.forEach(cb => { if (cb.checked) score++; }); appState.formData.scores[moduleKey] = score; const display = document.getElementById(`score-display-${moduleKey}`); if (display) display.innerText = `${score}/5`; } async function submitAssessment() { const teamName = document.getElementById('team-name').value; const teamEmail = document.getElementById('team-email').value; const teamPhone = document.getElementById('team-phone').value; const teamIdea = document.getElementById('team-idea').value; if (!teamName || !teamEmail || !teamPhone) { alert("Please fill in all mandatory fields: Team Name, Email, and Phone."); return; } appState.formData.teamName = teamName; appState.formData.email = teamEmail; appState.formData.phone = teamPhone; appState.formData.teamCount = document.getElementById('team-count').value; appState.formData.idea = teamIdea; ASSESSMENT_MODULES.forEach(m => updateModuleScore(m.key)); const totalScore = Object.values(appState.formData.scores).reduce((a, b) => a + b, 0); const stage = calculateStage(totalScore); const scores = appState.formData.scores; let questionSummary = '\nDETAILED ANSWERS\n----------------\n'; ASSESSMENT_MODULES.forEach(module => { questionSummary += `\n[${module.title}]\n`; module.questions.forEach((q, index) => { const qId = `${module.key}-${index}`; const checkbox = document.getElementById(qId); const answer = checkbox && checkbox.checked ? 'Yes' : 'No'; questionSummary += `- ${q}: ${answer}\n`; }); }); const body = ` Team Name: ${appState.formData.teamName} Members: ${appState.formData.teamCount} Email: ${appState.formData.email} Phone: ${appState.formData.phone} Idea: ${appState.formData.idea} ASSESSMENT RESULTS ------------------ Total Score: ${totalScore}/30 Stage: ${stage} Breakdown: 1. Clarity: ${scores.clarity}/5 2. Discovery: ${scores.discovery}/5 3. Readiness: ${scores.readiness}/5 4. Market: ${scores.market}/5 5. Business: ${scores.business}/5 6. Execution: ${scores.execution}/5 ${questionSummary} `.trim(); showLoading(true); await new Promise(resolve => setTimeout(resolve, 2000)); console.log("Simulating email send to:", `saroj.bhandari@cogknit.io,${teamEmail}`); console.log("Email Body:", body); showLoading(false); appState.view = 'user-result'; render(); } function showLoading(isLoading) { let overlay = document.getElementById('loading-overlay'); if (!overlay) { overlay = document.createElement('div'); overlay.id = 'loading-overlay'; overlay.className = 'loading-overlay'; overlay.innerHTML = '<div class="spinner"></div><p style="margin-top:20px; font-size:1.2rem;">Sending Assessment...</p>'; document.body.appendChild(overlay); } overlay.style.display = isLoading ? 'flex' : 'none'; } function calculateStage(totalScore) { if (totalScore <= 12) return 'Ignition'; if (totalScore <= 23) return 'Launchpad'; if (totalScore <= 27) return 'LiftOff'; return 'Orbit'; } function renderUserResult(container) { const card = document.createElement('div'); card.className = 'dashboard-card'; card.style.textAlign = 'center'; card.innerHTML = ` <div class="result-header"> <h2>Thank You!</h2> <p style="font-size: 1.2rem; margin: 20px 0;"> We have received your assessment. </p> <p style="font-size: 1.1rem; color: #aaa;"> We will soon follow with your Journey. </p> </div> <div style="margin-top: 30px;"> <button onclick="window.location.href='https://www.xvector.info'" class="secondary">Return to Home</button> </div> `; container.appendChild(card); }
